# ===========================
# ARASH EXTERNAL API SERVICE - CONFIGURATION
# ===========================
# IMPORTANT: Copy this file to .env and fill in your actual values
# NEVER commit .env file to version control!

# ===========================
# CORE CONFIGURATION
# ===========================

# Environment: Determines which database to use and optimizations
# Options: dev, stage, prod
# - dev: Uses arash_dev database, DEBUG log level by default
# - stage: Uses arash_stage database, INFO log level by default
# - prod: Uses arash_prod database, WARNING log level by default
ENVIRONMENT=dev

# AI Service URL
AI_SERVICE_URL=https://your-ai-service-url.example.com

# Session timeout in minutes
SESSION_TIMEOUT_MINUTES=30

# ===========================
# TELEGRAM CONFIGURATION (PUBLIC)
# ===========================

# Telegram Bot Token (Get from @BotFather)
# SECURITY: Keep this secret! Regenerate if exposed
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# Default model for Telegram users (they can switch from the list below)
TELEGRAM_DEFAULT_MODEL=google/gemini-2.0-flash-001

# Available models for Telegram users (comma-separated, limited list)
# These are free/cheap models suitable for public use
TELEGRAM_MODELS=google/gemini-2.0-flash-001,google/gemini-2.5-flash,deepseek/deepseek-chat-v3-0324,openai/gpt-4o-mini,google/gemma-3-1b-it

# Rate limit (messages per minute)
TELEGRAM_RATE_LIMIT=20

# Maximum conversation history
TELEGRAM_MAX_HISTORY=10

# Available commands (comma-separated)
TELEGRAM_COMMANDS=start,help,status,clear,model,models

# Admin users (comma-separated usernames without @)
TELEGRAM_ADMIN_USERS=admin1,admin2

# Optional: Webhook URL (leave empty for polling mode)
TELEGRAM_WEBHOOK_URL=

# ===========================
# INTERNAL CONFIGURATION (PRIVATE)
# ===========================

# Default model for internal users
INTERNAL_DEFAULT_MODEL=openai/gpt-5-chat

# Available models (comma-separated, no spaces)
INTERNAL_MODELS=google/gemini-2.0-flash-001,deepseek/deepseek-chat-v3-0324,openai/gpt-4o-mini,google/gemma-3-1b-it,anthropic/claude-sonnet-4,openai/gpt-4.1,openai/gpt-4o-search-preview,x-ai/grok-4,meta-llama/llama-4-maverick,google/gemini-2.5-flash,openai/gpt-5-chat

# Rate limit for internal users
INTERNAL_RATE_LIMIT=60

# Maximum conversation history
INTERNAL_MAX_HISTORY=30

# Internal API authentication key
# SECURITY: Generate a strong random key
INTERNAL_API_KEY=your_secure_random_api_key_here

# Internal webhook secret for verification
INTERNAL_WEBHOOK_SECRET=your_webhook_secret_here

# Internal admin users (comma-separated)
INTERNAL_ADMIN_USERS=h_hoseeini,f_taheri

# ===========================
# LOGGING & MONITORING (per environment)
# ===========================

# Log levels per environment (automatically selected based on ENVIRONMENT)
LOG_LEVEL_DEV=DEBUG
LOG_LEVEL_STAGE=INFO
LOG_LEVEL_PROD=WARNING

LOG_FILE=logs/arash_api_service.log

# ===========================
# OPTIONAL FEATURES
# ===========================

# Enable image processing
ENABLE_IMAGE_PROCESSING=true

# Maximum image size in MB
MAX_IMAGE_SIZE_MB=20

# ===========================
# DATABASE CONFIGURATION (Comprehensive per-environment)
# ===========================
# IMPORTANT: ALL database parameters can be different per environment
# Each environment can have its own host, port, user, password, and database name
# This allows complete isolation between dev, stage, and prod databases

# Development Database Configuration
DB_HOST_DEV=localhost
DB_PORT_DEV=5432
DB_USER_DEV=arash_dev_user
DB_PASSWORD_DEV=dev_password_change_me
DB_NAME_DEV=arash_dev

# Staging Database Configuration
DB_HOST_STAGE=staging-db.example.com
DB_PORT_STAGE=5432
DB_USER_STAGE=arash_stage_user
DB_PASSWORD_STAGE=stage_password_change_me
DB_NAME_STAGE=arash_stage

# Production Database Configuration
DB_HOST_PROD=prod-db.example.com
DB_PORT_PROD=5432
DB_USER_PROD=arash_prod_user
DB_PASSWORD_PROD=prod_password_change_me
DB_NAME_PROD=arash_prod

# Redis Configuration (per environment)
REDIS_URL_DEV=
REDIS_URL_STAGE=redis://staging-redis:6379/0
REDIS_URL_PROD=redis://prod-redis:6379/0

# ===========================
# API SERVER CONFIGURATION
# ===========================

# API server host and port (must be 3000 for K8s deployment)
API_HOST=0.0.0.0
API_PORT=3000

# ===========================
# TELEGRAM BOT INTEGRATION
# ===========================

# Run telegram bot integrated with main service (true/false)
# Set to true for single container deployment
RUN_TELEGRAM_BOT=true

# ===========================
# API DOCS CONFIGURATION (per environment)
# ===========================
# Control whether Swagger/OpenAPI docs are enabled
ENABLE_API_DOCS_DEV=true
ENABLE_API_DOCS_STAGE=true
ENABLE_API_DOCS_PROD=false

# ===========================
# CORS CONFIGURATION (per environment)
# ===========================
# CORS allowed origins (comma-separated)
CORS_ORIGINS_DEV=*
CORS_ORIGINS_STAGE=*
CORS_ORIGINS_PROD=https://arash-api.irisaprime.ir,https://arash-admin.irisaprime.ir