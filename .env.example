# ===========================
# ARASH EXTERNAL API SERVICE - CONFIGURATION
# ===========================
# IMPORTANT: Copy this file to .env and fill in your actual values
# NEVER commit .env file to version control!

# ===========================
# CORE CONFIGURATION
# ===========================

# Environment: Determines which database to use and optimizations
# Options: dev, stage, prod
# - dev: Uses arash_dev database, DEBUG log level by default
# - stage: Uses arash_stage database, INFO log level by default
# - prod: Uses arash_prod database, WARNING log level by default
ENVIRONMENT=dev

# AI Service URL
AI_SERVICE_URL=https://your-ai-service-url.example.com

# Session timeout in minutes
SESSION_TIMEOUT_MINUTES=30

# ===========================
# TELEGRAM CONFIGURATION (PUBLIC)
# ===========================

# Telegram Bot Token (Get from @BotFather)
# SECURITY: Keep this secret! Regenerate if exposed
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# Default model for Telegram users (they can switch from the list below)
TELEGRAM_DEFAULT_MODEL=google/gemini-2.0-flash-001

# Available models for Telegram users (comma-separated, limited list)
# These are free/cheap models suitable for public use
TELEGRAM_MODELS=google/gemini-2.0-flash-001,google/gemini-2.5-flash,deepseek/deepseek-chat-v3-0324,openai/gpt-4o-mini,google/gemma-3-1b-it

# Rate limit (messages per minute)
TELEGRAM_RATE_LIMIT=20

# Maximum conversation history
TELEGRAM_MAX_HISTORY=10

# Available commands (comma-separated)
TELEGRAM_COMMANDS=start,help,status,clear,model,models

# Admin users (comma-separated usernames without @)
TELEGRAM_ADMIN_USERS=admin1,admin2

# Optional: Webhook URL (leave empty for polling mode)
TELEGRAM_WEBHOOK_URL=

# ===========================
# INTERNAL CONFIGURATION (PRIVATE)
# ===========================

# Default model for internal users
INTERNAL_DEFAULT_MODEL=openai/gpt-5-chat

# Available models (comma-separated, no spaces)
INTERNAL_MODELS=google/gemini-2.0-flash-001,deepseek/deepseek-chat-v3-0324,openai/gpt-4o-mini,google/gemma-3-1b-it,anthropic/claude-sonnet-4,openai/gpt-4.1,openai/gpt-4o-search-preview,x-ai/grok-4,meta-llama/llama-4-maverick,google/gemini-2.5-flash,openai/gpt-5-chat

# Rate limit for internal users
INTERNAL_RATE_LIMIT=60

# Maximum conversation history
INTERNAL_MAX_HISTORY=30

# Internal API authentication key
# SECURITY: Generate a strong random key
INTERNAL_API_KEY=your_secure_random_api_key_here

# Internal webhook secret for verification
INTERNAL_WEBHOOK_SECRET=your_webhook_secret_here

# Internal admin users (comma-separated)
INTERNAL_ADMIN_USERS=h_hoseeini,f_taheri

# ===========================
# LOGGING & MONITORING
# ===========================

# Log level (optional - auto-set based on ENVIRONMENT if not specified)
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Leave empty to use environment-based defaults:
#   - dev: DEBUG
#   - stage: INFO
#   - prod: WARNING
LOG_LEVEL=

LOG_FILE=logs/arash_api_service.log

# ===========================
# OPTIONAL FEATURES
# ===========================

# Enable image processing
ENABLE_IMAGE_PROCESSING=true

# Maximum image size in MB
MAX_IMAGE_SIZE_MB=20

# ===========================
# DATABASE CONFIGURATION (Required)
# ===========================
# PostgreSQL database for API keys, teams, and usage tracking
# Note: Chat history is NOT stored here (handled by AI service)

# PostgreSQL connection parameters
DB_HOST=localhost
DB_PORT=5432
DB_USER=arash_user
DB_PASSWORD=your_secure_password_here

# Predefined database names for each environment
# IMPORTANT: The actual database used is determined by the ENVIRONMENT variable
# DevOps team: Just set ENVIRONMENT=dev|stage|prod to switch databases
DB_NAME_DEV=arash_dev
DB_NAME_STAGE=arash_stage
DB_NAME_PROD=arash_prod

# Fallback database name (used if ENVIRONMENT doesn't match above)
DB_NAME=arash_db

# Redis URL for session storage (optional, for future use)
REDIS_URL=

# ===========================
# API SERVER CONFIGURATION
# ===========================

# API server host and port (must be 3000 for K8s deployment)
API_HOST=0.0.0.0
API_PORT=3000

# ===========================
# TELEGRAM BOT INTEGRATION
# ===========================

# Run telegram bot integrated with main service (true/false)
# Set to true for single container deployment
RUN_TELEGRAM_BOT=true

# Enable API docs in production (set to false for production)
ENABLE_API_DOCS=true

# CORS allowed origins (comma-separated)
CORS_ORIGINS=*